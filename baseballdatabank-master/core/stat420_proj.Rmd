---
title: 'STAT 420: Data Analysis Project: Analysis Proposal'
author: "Fall 2016, Aaron Ray(aaronwr2), Aaron Rogers(aaronrr2), Michael Chan(mhchan3), Michael Johnson(mjohns44)"
date: 'Due: Monday, November 14 by 11:59 PM CDT'
output:
  html_document:
    toc: yes
---

# Analysis Proposal

## Project Members

- Aaron Ray(aaronwr2)
- Aaron Rogers(aaronrr2)
- Michael Chan(mhchan3)
- Michael Johnson(mjohns44)

## A tentative title for the project

Statistical Approach of Predicting MLB Baseball Team Success

## Dataset

### Source: http://www.seanlahman.com/baseball-archive/statistics/

### Description: 

This dataset contains pitching, hitting, and fielding statistics for Major League Baseball from 1871 through 2014.  It includes data from the two current leagues (American and National), the four other "major" leagues (American Association, Union Association, Players League, and Federal League), and the National Association of 1871-1875. For more details, see [readme2014.txt](http:readme2014.txt)

##### Potential Response Variables

- `Rank`           Position in final standings
- `WSWin`          World Series Winner (Y or N)
- `LgWin`          League Champion(Y or N)

##### Selected Predictor Variables
- `yearID`         Year
- `W`              Wins
- `L`              Losses
- `salary`         Total Salary of the team
- `totalSalary`    Total Salary of all teams in that year
- `pctSalary`      Total Salary of the team as a proportion of the total salary of all teams in that year

### Analysis Ideas:

Find out which predictors are useful for predicting rank or winning the Championship - % Salaries, Win, Loss, ... etc.  The project will explore the effectiveness of different models (additive, interaction)

## Sample Data

The following `R` code load the `Teams.csv` and `Salaries.csv`. Some data manipulation are performed to get the total salary and the percent of total salary.

```{r}
teams <- read.csv("Teams.csv")
salaries <- read.csv("Salaries.csv")
salries_by_team_year = aggregate(x=salaries$salary, by = list(salaries$teamID, salaries$yearID), FUN=sum)
colnames(salries_by_team_year) = c("teamID", "yearID", "salary")

mlb_data = merge(teams, salries_by_team_year, by=c("yearID", "teamID") )
mlb_data$salary = as.numeric(mlb_data$salary)

total_salary_by_year = aggregate(mlb_data$salary, by = list(mlb_data$yearID), FUN=sum)
colnames(total_salary_by_year) = c("yearID", "totalSalary")

mlb_data = merge(mlb_data, total_salary_by_year, by = c("yearID"))
mlb_data$pctSalary = mlb_data$salary / mlb_data$totalSalary
head(mlb_data)
```

